
@{
    ViewBag.Title = "maincat";
    Layout = "~/Views/masters/webMaster.cshtml";
}

<div ID="Content3" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
    <div class="row">
        <div class="col">
            <div class="alert alert-light alert-elevate fade show" role="alert">
                <div class="alert-icon"><i class="flaticon-warning kt-font-brand"></i></div>
                <div class="alert-text">
                    توجه داشته باشید که پس از ویرایش دسته بندی اصلی محصولات کلیه محصولات موجود در آن دسته بندی تقییر خواهند کرد
                    <br />
                    <span>
                        بخش <span class="kt-badge kt-badge--inline kt-badge--warning">غیرفعال کردن</span> تمامی محصولات زیر شاخه آن دسته بندی را از دید کاربران مخفی میکند
                    </span>
                    <br style="height: 10px;" />
                    <span>
                        بخش <span class="kt-badge kt-badge--inline kt-badge--danger">حذف</span> تمامی محصولات زیرشاخه آن دسته بندی را <span class="kt-badge kt-badge--inline kt-badge--danger">حذف</span> خواهد کرد
                    </span>

                </div>
            </div>
        </div>
    </div>
    <!--START : TBLS-->
    <div id="show_newCat">

    </div>
    <!--END : TBLS-->
    <!--START : TBLS-->
    <div id="show_tabCat">

    </div>
    <!--END : TBLS-->
</div>
<!--START : EDITMODAL-->
<div class="modal fade" id="PandaEditModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered " role="document">
        <div class="modal-content ">
            <div class="modal-header alert alert-warning">
                <h5 class="modal-title">غیر فعال کردن دسته بندی اصلی</h5>
                <button type="button" class="close" style="color: black;" data-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body">
                <span>نام دسته بندی انتخاب شده : </span><span id="off"></span>
                <br />
                <span>
                    بخش <span class="kt-badge kt-badge--inline kt-badge--warning">غیرفعال کردن</span> تمامی محصولات زیر شاخه آن دسته بندی را از دید کاربران مخفی میکند
                    .
                </span>
                <br />
                آیا از این کار مطمئن هستید؟
            </div>
            <div class="modal-footer">
                <input style="width: 100%; height: 50px; display: none;" type="text" value="" id="modeloff">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">منصرف شدم</button>
                <button type="button" class="btn btn-outline-warning" onclick="savePics('off')" data-dismiss="modal">بله،غیر فعال کن!</button>
            </div>
        </div>
    </div>
</div>
<!--END : EDITMODAL-->
<!--START : DELETEMODAL-->
<div class="modal fade" id="PandaDeletModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered " role="document">
        <div class="modal-content ">
            <div class="modal-header alert alert-danger">
                <h5 class="modal-title" style="color: #fff;" id="exampleModalLongTitle">غیر فعال کردن دسته بندی اصلی</h5>
                <button type="button" class="close" style="color: black;" data-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body">
                <span>نام دسته بندی انتخاب شده : </span><span id="delete"></span>
                <br />
                <span>
                    بخش <span class="kt-badge kt-badge--inline kt-badge--danger">حذف</span> تمامی محصولات زیرشاخه آن دسته بندی را <span class="kt-badge kt-badge--inline kt-badge--danger">حذف</span> خواهد کرد
                    .
                </span>
                <br />
                آیا از این کار مطمئن هستید؟
            </div>
            <div class="modal-footer">
                <input style="width: 100%; height: 50px; display: none;" type="text" value="" id="modeldelete">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">منصرف شدم</button>
                <button type="button" class="btn btn-outline-danger" onclick="savePics('delete')" data-dismiss="modal">بله،حذف کن!</button>
            </div>
        </div>
    </div>
</div>
<!--END : DELETEMODAL-->
<!--START : ONMODAL-->
<div class="modal fade" id="PandaonModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered " role="document">
        <div class="modal-content ">
            <div class="modal-header alert alert-success">
                <h5 class="modal-title" style="color: #fff;" id="exampleModalLongTitle"> فعال کردن دسته بندی اصلی</h5>
                <button type="button" class="close" style="color: black;" data-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body">
                <span>نام دسته بندی انتخاب شده : </span><span id="on"></span>
                <br />
                <span>
                    بخش <span class="kt-badge kt-badge--inline kt-badge--success">فعال</span> تمامی محصولات زیرشاخه آن دسته بندی را <span class="kt-badge kt-badge--inline kt-badge--success">فعال</span> خواهد کرد
                    .
                </span>
                <br />
                آیا از این کار مطمئن هستید؟
            </div>
            <div class="modal-footer">
                <input style="width: 100%; height: 50px; display: none;" type="text" value="" id="modelon">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">منصرف شدم</button>
                <button type="button" class="btn btn-outline-success" onclick="savePics('on')" data-dismiss="modal">بله،فعال کن!</button>
            </div>
        </div>
    </div>
</div>
<!--END : ONMODAL-->
<!--START : editMODAL-->
<div class="modal fade" id="PandaedittModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered " role="document">
        <div class="modal-content ">
            <div class="modal-header alert alert-primary">
                <h5 class="modal-title" style="color: #fff;" id="exampleModalLongTitle"> ویرایش کردن دسته بندی اصلی</h5>
                <button type="button" class="close" style="color: black;" data-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body">
                <span>نام دسته بندی انتخاب شده : </span><span id="edit"></span>
                <br />
                <span>
                    بخش <span class="kt-badge kt-badge--inline kt-badge--primary">ویرایش</span> تمامی محصولات زیرشاخه آن دسته بندی را <span class="kt-badge kt-badge--inline kt-badge--primary">ویرایش</span> خواهد کرد
                    .
                </span>
                <br />
                آیا از این کار مطمئن هستید؟
            </div>
            <div class="modal-footer">
                <input style="width: 100%; height: 50px;  display: none;" type="text" value="" id="modeledit">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">منصرف شدم</button>
                <button type="button" class="btn btn-outline-primary" onclick="savePics('edit')" data-dismiss="modal">بله،ویرایش کن!</button>
            </div>
        </div>
    </div>
</div>
<!--END : editMODAL-->


<script>
    function modalloader(name, id) {

        document.getElementById("off").innerHTML = name;
        $("#modeloff").val(id);

        document.getElementById("delete").innerHTML = name;
        $("#modeldelete").val(id);

        document.getElementById("on").innerHTML = name;
        $("#modelon").val(id);

        document.getElementById("edit").innerHTML = name;
        $("#modeledit").val(id);

    }
</script>


<script>

    function savePics(action) {
        var myObject = {
            firstName: "#model",
            lastName: action,
            fullName: function () {
                return this.firstName + "" + this.lastName;
            }
        }
        var x = myObject.fullName();
        var id = $(x).val();

        var AddressToSend = "Cat_Switch";
        var PostJson = {
            'action': action,
            'id': id
        };
        $.ajax({
            url: AddressToSend,
            type: "post",
            data: JSON.stringify(PostJson),
            contentType: "application/json; charset=utf-8",
            success: function (response) {
                $("#ERRAlertNew").hide(300);
                $("#SuccesAlertNew").show(300);
                $('#show_tabCat').load("https://localhost:44395/MS/table_Cat");
                $('#show_newCat').load("https://localhost:44395/MS/New_Cat");
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert(textStatus);
            }
        });
        return false;
    }
</script>